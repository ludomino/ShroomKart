<div class="container mt-3">
    <div class="d-flex justify-content-center align-items-center">
      <% if @user.photo%>
      <%= image_tag @user.photo %>
      <% end %>
      <h2><%= @user.name %></h2>
    </div>
  <%= link_to "Rent your own kart", new_kart_path, class: "btn btn-flat" %>

  <h2>All my bookings</h2>
<div class="cards">
  <% @bookings.order(created_at: :desc).each do |booking| %>
    <div class="card-trip">
      <%= image_tag booking.kart.image %>
        <div class="delete">
        <% if current_user == @user %>
          <a href="#" class="btn btn-primary a-btn-slide-text">
            <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
            <span><strong>Edit</strong></span>
          </a>

            <%= link_to "Delete", booking_path(booking),
            class:'btn btn-primary a-btn-slide-text',
            data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}%>
            <% elsif current_user == @booking.kart.user %>
            <%= link_to "Cancel the booking", booking_path(@booking),
            data: {turbo_method: :delete, turbo_confirm: "Are you sure?"}%>
      <% end %>
        </div>
      <div class="card-trip-infos">
        <div>
          <h2><%= link_to booking.kart.name,  kart_bookings_path(:kart_id), class:"link" %></h2>
          <p><%= booking.kart.special_skills%></p>
        </div>
          <%= image_tag booking.kart.user.photo, class: "card-trip-user avatar-bordered" %>
          <p class="card-trip-pricing">Start: <%= booking.start_dates.strftime("%d/%m/%y") %></p>
          <p> End : <%= booking.end_dates.strftime("%d/%m/%y") %></p>
          <p> Total price : <%= booking.kart.price %>â‚¬</p>
        </div>
      </div>
    <% end %>
  </div>
</div>
